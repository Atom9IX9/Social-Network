"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[746],{4746:function(e,s,r){r.r(s),r.d(s,{default:function(){return Y}});var t=r(8683),n=r(3144),a=r(5671),o=r(136),i=r(516),l=r(2791),u=r(8687),c="MyPosts_myPosts__RjhRC",d="MyPosts_posts__QhSpD",p=r(6139),f=r(704),m=r(323),x=r(2586),h=r(184),v=(0,m.oQ)(10),j=(0,m.DT)(300),b=(0,f.Z)({form:"myPosts"})((function(e){return(0,h.jsxs)("form",{onSubmit:e.handleSubmit,children:[(0,h.jsx)(p.Z,{component:x.yt,name:"newPostText",validate:[v,j]}),(0,h.jsx)("div",{children:(0,h.jsx)("button",{children:"Add Post"})})]})})),g="Post_item__bggH6",N="Post_likeBlock__hqtqM",P="Post_text__8R0Y1",_=r(2882),k=function(e){return(0,h.jsxs)("div",{className:g,children:[(0,h.jsx)("img",{src:_,alt:"start user avatar"}),(0,h.jsxs)("div",{className:P,children:[" ",e.text," "]}),(0,h.jsx)("div",{children:(0,h.jsxs)("span",{className:N,children:["like(btn*)",(0,h.jsx)("br",{}),"(",e.likes," peoples like this! )"]})}),(0,h.jsx)("hr",{})]})},I=function(e){var s=e.posts.map((function(e){return(0,h.jsx)(k,{text:e.text,likes:e.likes},e.postId)}));return(0,h.jsxs)("div",{className:c,children:[(0,h.jsx)("h3",{children:"My Posts"}),(0,h.jsx)(b,{onSubmit:function(s){return e.addPostFromForm(s)}}),(0,h.jsx)("div",{className:d,children:s})]})},w=r(6508),A=r(7781),F=(0,A.qC)((0,u.$j)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText}}),{addPostFromForm:w.b5}))(I),S={},C={header:"ProfileInfo_header__tVpgS",LookingForAJob:"ProfileInfo_LookingForAJob__5CwD6",saveBtn:"ProfileInfo_saveBtn__HyeIj",formInp:"ProfileInfo_formInp__d5l3I",labelText:"ProfileInfo_labelText__FEMim"},y=r(4108),O=r(885),U={description:"ProfileDescription_description__c54HU",fullName:"ProfileDescription_fullName__CJFbG",avatar:"ProfileDescription_avatar__+sbzZ",status:"ProfileDescription_status__eX8Qd"},Z=function(e){var s=e.linkName,r=e.link;if(r)return(0,h.jsxs)("div",{children:[(0,h.jsx)("span",{children:s}),": ",(0,h.jsx)("span",{children:r})]})},D=function(e){var s=e.profile,r=e.toggleEditMode,t=e.isOwner,n=Object.keys(s.contacts).map((function(e){return s.contacts[e]?(0,h.jsx)(Z,{linkName:e,link:s.contacts[e]}):null})).filter((function(e){return null!==e}));return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:U.aboutMe,children:s.aboutMe}),(0,h.jsx)("h5",{children:"About Job"}),(0,h.jsxs)("div",{className:U.lookingForAJob,children:["Need work: ",s.lookingForAJob?"Yes":"No"]}),(0,h.jsx)("div",{className:U.workDescription,children:s.lookingForAJobDescription}),(0,h.jsxs)("div",{className:U.contacts,children:["contacts: ",n.length?n:"no contacts"]}),t&&(0,h.jsx)("button",{onClick:r,children:"edit"})]})},M=function(e){var s=e.fullName,r=e.userProfilePhoto,t=e.isOwner,n=e.saveAvatar;return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)("div",{className:U.fullName,children:s}),(0,h.jsx)("img",{className:U.avatar,src:r||_,alt:"user avatar"}),t&&(0,h.jsx)("div",{children:(0,h.jsx)("input",{type:"file",onChange:function(e){e.target.files.length&&n(e.target.files[0])}})})]})},T=function(e){var s=e.status,r=e.updateUserStatus,t=e.isOwner,n=(0,l.useState)(s),a=(0,O.Z)(n,2),o=a[0],i=a[1],u=(0,l.useState)(!1),c=(0,O.Z)(u,2),d=c[0],p=c[1];(0,l.useEffect)((function(){i(s)}),[s]);var f=function(){t&&(d?(p(!1),r(o)):p(!0))};return(0,h.jsxs)("div",{className:U.status,children:[!d&&(0,h.jsx)("div",{onClick:f,children:(0,h.jsx)("span",{children:s||"------"})}),d&&(0,h.jsx)("div",{children:(0,h.jsx)("input",{autoFocus:!0,onChange:function(e){i(e.currentTarget.value)},onBlur:f,value:o})})]})},J=(0,f.Z)({form:"aboutUserForm"})((function(e){var s=(0,m.DT)(20),r=(0,m.oQ)(3);Object.keys(e.profile.contacts).map((function(e){return(0,h.jsx)("div",{className:C.contact,children:(0,h.jsx)("span",{className:C.linkName,children:e})})})).filter((function(e){return null!==e}));return(0,h.jsxs)("form",{onSubmit:e.handleSubmit,children:[(0,h.jsxs)("div",{className:C.formInp,children:[(0,h.jsx)("label",{htmlFor:"userNameForm",children:(0,h.jsx)("span",{className:C.labelText,children:"User name"})}),(0,x.Np)("fullName",null,[m.C1,s,r],"userNameForm",x.yt)]}),(0,h.jsx)("div",{className:C.formInp,children:(0,h.jsxs)("label",{children:[(0,h.jsx)("span",{className:C.labelText,children:"About me"}),(0,x.Np)("aboutMe",null,[m.C1],"aboutMeId",x.B1)]})}),(0,h.jsx)("div",{className:C.formInp,children:(0,h.jsxs)("label",{for:"LookingForAJobFormId",className:C.LookingForAJob,children:[(0,h.jsx)("span",{className:C.labelText,children:"Looking for a job"}),(0,x.Np)("lookingForAJob",null,null,"LookingForAJobFormId",x.yt,"checkbox")]})}),(0,h.jsx)("div",{className:C.formInp,children:(0,h.jsxs)("label",{children:[(0,h.jsx)("span",{className:C.labelText,children:"Skills"}),(0,h.jsx)("br",{}),(0,x.Np)("lookingForAJobDescription",null,[m.C1],"lookingForAJobDescriptionId",x.B1)]})}),(0,h.jsx)("button",{className:C.saveBtn,children:"save"})]})})),L=function(e){var s=(0,l.useState)(!1),r=(0,O.Z)(s,2),n=r[0],a=r[1],o=function(){a(!n)};return(0,h.jsxs)("div",{className:U.description,children:[(0,h.jsx)(M,{fullName:e.profile.fullName,userProfilePhoto:e.profile.photos.large,isOwner:e.isOwner,saveAvatar:e.saveAvatar}),(0,h.jsx)(T,{status:e.status,updateUserStatus:e.updateUserStatus,isOwner:e.isOwner}),n?(0,h.jsx)(J,{onSubmit:function(s){o(),e.saveChangedProfile((0,t.Z)((0,t.Z)({},s),{},{userId:e.ownerId}))},profile:e.profile,initialValues:e.profile}):(0,h.jsx)(D,{profile:e.profile,toggleEditMode:o,isOwner:e.isOwner})]})},B=function(e){return e.profile?(0,h.jsxs)("div",{children:[(0,h.jsx)("div",{className:C.header}),(0,h.jsx)(L,{updateUserStatus:e.updateUserStatus,profile:e.profile,status:e.status,isOwner:e.isOwner,saveAvatar:e.saveAvatar,saveChangedProfile:e.saveChangedProfile,ownerId:e.ownerId})]}):(0,h.jsx)(y.Z,{})},q=function(e){return(0,h.jsxs)("div",{className:S.profilePage,children:[(0,h.jsx)(B,{profile:e.profile,status:e.status,updateUserStatus:e.updateUserStatus,isOwner:e.isOwner,saveAvatar:e.saveAvatar,saveChangedProfile:e.saveChangedProfile,ownerId:e.myProfileId}),(0,h.jsx)(F,{})]})},E=r(7561),Q=r(5628),H=r(1548),R=r(6351),V=function(e){(0,o.Z)(r,e);var s=(0,i.Z)(r);function r(){var e;(0,a.Z)(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=s.call.apply(s,[this].concat(o))).updateProfile=function(){e.props.getUserProfile(e.props.router.params.userId,e.props.myProfileId),e.props.getUserStatus(e.props.router.params.userId,e.props.myProfileId)},e.componentDidMount=function(){e.updateProfile()},e.componentDidUpdate=function(s,r){s.router.params.userId!==e.props.router.params.userId&&e.updateProfile()},e.render=function(){return(0,h.jsx)(q,(0,t.Z)((0,t.Z)({},e.props),{},{status:e.props.status,profile:e.props.profile,updateUserStatus:e.props.updateUserStatus,isOwner:!e.props.router.params.userId,saveAvatar:e.props.saveAvatar}))},e}return(0,n.Z)(r)}(l.Component),Y=(0,A.qC)((0,u.$j)((function(e){return{profile:(0,R.Ai)(e),myProfileId:(0,R.OS)(e),status:(0,R.TL)(e)}}),{getUserProfile:w.et,getAuth:E.v0,getUserStatus:w.Tq,updateUserStatus:w.OL,saveAvatar:w.Mc,saveChangedProfile:w.M0}),Q.Z,H.Z)(V)}}]);
//# sourceMappingURL=746.54e74c58.chunk.js.map