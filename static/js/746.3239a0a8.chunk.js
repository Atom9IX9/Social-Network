"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[746],{4746:function(e,s,r){r.r(s),r.d(s,{default:function(){return V}});var t=r(1413),n=r(3144),a=r(5671),o=r(136),i=r(516),l=r(2791),c=r(8687),u="MyPosts_myPosts__RjhRC",d="MyPosts_posts__QhSpD",p=r(6139),f=r(704),m=r(323),h=r(2586),x=r(184),v=(0,m.oQ)(10),j=(0,m.DT)(300),b=(0,f.Z)({form:"myPosts"})((function(e){return(0,x.jsxs)("form",{onSubmit:e.handleSubmit,children:[(0,x.jsx)(p.Z,{component:h.yt,name:"newPostText",validate:[v,j]}),(0,x.jsx)("div",{children:(0,x.jsx)("button",{children:"Add Post"})})]})})),g="Post_item__bggH6",N="Post_likeBlock__hqtqM",P="Post_text__8R0Y1",_=r(2882),k=function(e){return(0,x.jsxs)("div",{className:g,children:[(0,x.jsx)("img",{src:_,alt:"start user avatar"}),(0,x.jsxs)("div",{className:P,children:[" ",e.text," "]}),(0,x.jsx)("div",{children:(0,x.jsxs)("span",{className:N,children:["like(btn*)",(0,x.jsx)("br",{}),"(",e.likes," peoples like this! )"]})}),(0,x.jsx)("hr",{})]})},I=function(e){var s=e.posts.map((function(e){return(0,x.jsx)(k,{text:e.text,likes:e.likes},e.postId)}));return(0,x.jsxs)("div",{className:u,children:[(0,x.jsx)("h3",{children:"My Posts"}),(0,x.jsx)(b,{onSubmit:function(s){return e.addPostFromForm(s)}}),(0,x.jsx)("div",{className:d,children:s})]})},w=r(6508),S=r(7781),A=(0,S.qC)((0,c.$j)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText}}),{addPostFromForm:w.b5}))(I),C={},y={header:"ProfileInfo_header__tVpgS",LookingForAJob:"ProfileInfo_LookingForAJob__5CwD6",saveBtn:"ProfileInfo_saveBtn__HyeIj",formInp:"ProfileInfo_formInp__d5l3I",labelText:"ProfileInfo_labelText__FEMim"},F=r(4108),O=r(885),U={description:"ProfileDescription_description__c54HU",fullName:"ProfileDescription_fullName__CJFbG",avatar:"ProfileDescription_avatar__+sbzZ",status:"ProfileDescription_status__eX8Qd"},Z=function(e){var s=e.linkName,r=e.link;if(r)return(0,x.jsxs)("div",{children:[(0,x.jsx)("span",{children:s}),": ",(0,x.jsx)("a",{href:r,target:"_blank",rel:"noreferrer",children:(0,x.jsx)("span",{children:r})})]})},M=function(e){var s=e.profile,r=e.toggleEditMode,t=e.isOwner,n=Object.keys(s.contacts).map((function(e){return s.contacts[e]?(0,x.jsx)(Z,{linkName:e,link:s.contacts[e]},e):null})).filter((function(e){return null!==e}));return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:U.aboutMe,children:s.aboutMe}),(0,x.jsx)("h5",{children:"About Job"}),(0,x.jsxs)("div",{className:U.lookingForAJob,children:["Need work: ",s.lookingForAJob?"Yes":"No"]}),(0,x.jsx)("div",{className:U.workDescription,children:s.lookingForAJobDescription}),(0,x.jsxs)("div",{className:U.contacts,children:["contacts: ",n.length?n:"no contacts"]}),t&&(0,x.jsx)("button",{onClick:r,children:"edit"})]})},T=function(e){var s=e.fullName,r=e.userProfilePhoto,t=e.isOwner,n=e.saveAvatar;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:U.fullName,children:s}),(0,x.jsx)("img",{className:U.avatar,src:r||_,alt:"user avatar"}),t&&(0,x.jsx)("div",{children:(0,x.jsx)("input",{type:"file",onChange:function(e){e.target.files.length&&n(e.target.files[0])}})})]})},D=function(e){var s=e.status,r=e.updateUserStatus,t=e.isOwner,n=(0,l.useState)(s),a=(0,O.Z)(n,2),o=a[0],i=a[1],c=(0,l.useState)(!1),u=(0,O.Z)(c,2),d=u[0],p=u[1];(0,l.useEffect)((function(){i(s)}),[s]);var f=function(){t&&(d?(p(!1),r(o)):p(!0))};return(0,x.jsxs)("div",{className:U.status,children:[!d&&(0,x.jsx)("div",{onClick:f,children:(0,x.jsx)("span",{children:s||"------"})}),d&&(0,x.jsx)("div",{children:(0,x.jsx)("input",{autoFocus:!0,onChange:function(e){i(e.currentTarget.value)},onBlur:f,value:o})})]})},J=(0,f.Z)({form:"aboutUserForm",enableReinitialize:!0})((function(e){var s=(0,m.DT)(20),r=(0,m.oQ)(3),t=Object.keys(e.profile.contacts).map((function(e){return(0,x.jsxs)("div",{className:y.contact,children:[(0,x.jsx)("span",{className:y.linkName,children:e}),(0,h.Np)("contacts.".concat(e),e,null,h.yt)]},e)})).filter((function(e){return null!==e}));return(0,x.jsxs)("form",{onSubmit:e.handleSubmit,children:[(0,x.jsx)("div",{className:y.formInp,children:(0,x.jsxs)("label",{children:[(0,x.jsx)("span",{className:y.labelText,children:"User name"}),(0,h.Np)("fullName",null,[m.C1,s,r],h.yt)]})}),(0,x.jsx)("div",{className:y.formInp,children:(0,x.jsxs)("label",{children:[(0,x.jsx)("span",{className:y.labelText,children:"About me"}),(0,h.Np)("aboutMe",null,[m.C1],h.B1)]})}),(0,x.jsx)("div",{className:y.formInp,children:(0,x.jsxs)("label",{className:y.LookingForAJob,children:[(0,x.jsx)("span",{className:y.labelText,children:"Looking for a job"}),(0,h.Np)("lookingForAJob",null,null,h.yt,"checkbox")]})}),(0,x.jsx)("div",{className:y.formInp,children:(0,x.jsxs)("label",{children:[(0,x.jsx)("span",{className:y.labelText,children:"Skills"}),(0,x.jsx)("br",{}),(0,h.Np)("lookingForAJobDescription",null,[m.C1],h.B1)]})}),(0,x.jsx)("div",{className:y.contacts,children:t}),(0,x.jsx)("button",{className:y.saveBtn,onClick:e.error||e.toggleEditMode,children:"save"})]})})),B=function(e){var s=(0,l.useState)(!1),r=(0,O.Z)(s,2),n=r[0],a=r[1],o=function(){a(!n)};return(0,x.jsxs)("div",{className:U.description,children:[(0,x.jsx)(T,{fullName:e.profile.fullName,userProfilePhoto:e.profile.photos.large,isOwner:e.isOwner,saveAvatar:e.saveAvatar}),(0,x.jsx)(D,{status:e.status,updateUserStatus:e.updateUserStatus,isOwner:e.isOwner}),n?(0,x.jsx)(J,{onSubmit:function(s){e.saveChangedProfile((0,t.Z)((0,t.Z)({},s),{},{userId:e.ownerId})).then((function(){return o()}))},profile:e.profile,initialValues:e.profile}):(0,x.jsx)(M,{profile:e.profile,toggleEditMode:o,isOwner:e.isOwner})]})},L=function(e){return e.profile?(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:y.header}),(0,x.jsx)(B,{updateUserStatus:e.updateUserStatus,profile:e.profile,status:e.status,isOwner:e.isOwner,saveAvatar:e.saveAvatar,saveChangedProfile:e.saveChangedProfile,ownerId:e.ownerId})]}):(0,x.jsx)(F.Z,{})},q=function(e){return(0,x.jsxs)("div",{className:C.profilePage,children:[(0,x.jsx)(L,{profile:e.profile,status:e.status,updateUserStatus:e.updateUserStatus,isOwner:e.isOwner,saveAvatar:e.saveAvatar,saveChangedProfile:e.saveChangedProfile,ownerId:e.myProfileId}),(0,x.jsx)(A,{})]})},E=r(7561),Q=r(5628),R=r(1548),H=r(6351),z=function(e){(0,o.Z)(r,e);var s=(0,i.Z)(r);function r(){var e;(0,a.Z)(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=s.call.apply(s,[this].concat(o))).updateProfile=function(){e.props.getUserProfile(e.props.router.params.userId,e.props.myProfileId),e.props.getUserStatus(e.props.router.params.userId,e.props.myProfileId)},e.componentDidMount=function(){e.updateProfile()},e.componentDidUpdate=function(s,r){s.router.params.userId!==e.props.router.params.userId&&e.updateProfile()},e.render=function(){return(0,x.jsx)(q,(0,t.Z)((0,t.Z)({},e.props),{},{status:e.props.status,profile:e.props.profile,updateUserStatus:e.props.updateUserStatus,isOwner:!e.props.router.params.userId,saveAvatar:e.props.saveAvatar}))},e}return(0,n.Z)(r)}(l.Component),V=(0,S.qC)((0,c.$j)((function(e){return{profile:(0,H.Ai)(e),myProfileId:(0,H.OS)(e),status:(0,H.TL)(e)}}),{getUserProfile:w.et,getAuth:E.v0,getUserStatus:w.Tq,updateUserStatus:w.OL,saveAvatar:w.Mc,saveChangedProfile:w.M0}),Q.Z,R.Z)(z)}}]);
//# sourceMappingURL=746.3239a0a8.chunk.js.map