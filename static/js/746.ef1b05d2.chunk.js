"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[746],{4746:function(e,s,r){r.r(s),r.d(s,{default:function(){return X}});var t=r(8683),n=r(3144),a=r(5671),o=r(136),i=r(516),l=r(2791),u=r(8687),c="MyPosts_myPosts__RjhRC",d="MyPosts_posts__QhSpD",p=r(6139),f=r(704),m=r(323),h=r(2586),x=r(184),v=(0,m.oQ)(10),j=(0,m.DT)(300),P=(0,f.Z)({form:"myPosts"})((function(e){return(0,x.jsxs)("form",{onSubmit:e.handleSubmit,children:[(0,x.jsx)(p.Z,{component:h.yt,name:"newPostText",validate:[v,j]}),(0,x.jsx)("div",{children:(0,x.jsx)("button",{children:"Add Post"})})]})})),g="Post_item__bggH6",_="Post_likeBlock__hqtqM",b="Post_text__8R0Y1",N=r(2882),k=function(e){return(0,x.jsxs)("div",{className:g,children:[(0,x.jsx)("img",{src:N,alt:"start user avatar"}),(0,x.jsxs)("div",{className:b,children:[" ",e.text," "]}),(0,x.jsx)("div",{children:(0,x.jsxs)("span",{className:_,children:["like(btn*)",(0,x.jsx)("br",{}),"(",e.likes," peoples like this! )"]})}),(0,x.jsx)("hr",{})]})},w=function(e){var s=e.posts.map((function(e){return(0,x.jsx)(k,{text:e.text,likes:e.likes},e.postId)}));return(0,x.jsxs)("div",{className:c,children:[(0,x.jsx)("h3",{children:"My Posts"}),(0,x.jsx)(P,{onSubmit:function(s){return e.addPostFromForm(s)}}),(0,x.jsx)("div",{className:d,children:s})]})},I=r(6508),A=r(7781),S=(0,A.qC)((0,u.$j)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText}}),{addPostFromForm:I.b5}))(w),F={},C="ProfileInfo_header__tVpgS",y="ProfileInfo_LookingForAJob__5CwD6",U="ProfileInfo_saveBtn__HyeIj",Z="ProfileInfo_formInp__d5l3I",O="ProfileInfo_labelText__FEMim",D=r(4108),M=r(885),J={description:"ProfileDescription_description__c54HU",fullName:"ProfileDescription_fullName__CJFbG",avatar:"ProfileDescription_avatar__+sbzZ",status:"ProfileDescription_status__eX8Qd"},T=function(e){var s=e.linkName,r=e.link;if(r)return(0,x.jsxs)("div",{children:[(0,x.jsx)("span",{children:s}),": ",(0,x.jsx)("span",{children:r})]})},L=function(e){var s=e.profile,r=e.toggleEditMode,t=e.isOwner,n=Object.keys(s.contacts).map((function(e){return s.contacts[e]?(0,x.jsx)(T,{linkName:e,link:s.contacts[e]}):null})).filter((function(e){return null!==e}));return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:J.aboutMe,children:s.aboutMe}),(0,x.jsx)("h5",{children:"About Job"}),(0,x.jsxs)("div",{className:J.lookingForAJob,children:["Need work: ",s.lookingForAJob?"Yes":"No"]}),(0,x.jsx)("div",{className:J.workDescription,children:s.lookingForAJobDescription}),(0,x.jsxs)("div",{className:J.contacts,children:["contacts: ",n.length?n:"no contacts"]}),t&&(0,x.jsx)("button",{onClick:r,children:"edit"})]})},q=function(e){var s=e.fullName,r=e.userProfilePhoto,t=e.isOwner,n=e.saveAvatar;return(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)("div",{className:J.fullName,children:s}),(0,x.jsx)("img",{className:J.avatar,src:r||N,alt:"user avatar"}),t&&(0,x.jsx)("div",{children:(0,x.jsx)("input",{type:"file",onChange:function(e){e.target.files.length&&n(e.target.files[0])}})})]})},B=function(e){var s=e.status,r=e.updateUserStatus,t=e.isOwner,n=(0,l.useState)(s),a=(0,M.Z)(n,2),o=a[0],i=a[1],u=(0,l.useState)(!1),c=(0,M.Z)(u,2),d=c[0],p=c[1];(0,l.useEffect)((function(){i(s)}),[s]);var f=function(){t&&(d?(p(!1),r(o)):p(!0))};return(0,x.jsxs)("div",{className:J.status,children:[!d&&(0,x.jsx)("div",{onClick:f,children:(0,x.jsx)("span",{children:s||"------"})}),d&&(0,x.jsx)("div",{children:(0,x.jsx)("input",{autoFocus:!0,onChange:function(e){i(e.currentTarget.value)},onBlur:f,value:o})})]})},E=(0,f.Z)({form:"aboutUserForm"})((function(e){var s=(0,m.DT)(20),r=(0,m.oQ)(3);return(0,x.jsxs)("form",{onSubmit:e.handleSubmit,children:[(0,x.jsxs)("div",{className:Z,children:[(0,x.jsx)("label",{htmlFor:"userNameForm",children:(0,x.jsx)("span",{className:O,children:"User name"})}),(0,h.Np)("fullName",null,[m.C1,s,r],"userNameForm",h.yt)]}),(0,x.jsx)("div",{className:Z,children:(0,x.jsxs)("label",{children:[(0,x.jsx)("span",{className:O,children:"About me"}),(0,h.Np)("aboutMe",null,[m.C1],"aboutMeId",h.B1)]})}),(0,x.jsx)("div",{className:Z,children:(0,x.jsxs)("label",{for:"LookingForAJobFormId",className:y,children:[(0,x.jsx)("span",{className:O,children:"Looking for a job"}),(0,h.Np)("lookingForAJob",null,null,"LookingForAJobFormId",h.yt,"checkbox")]})}),(0,x.jsx)("div",{className:Z,children:(0,x.jsxs)("label",{children:[(0,x.jsx)("span",{className:O,children:"Skills"}),(0,x.jsx)("br",{}),(0,h.Np)("lookingForAJobDescription",null,[m.C1],"lookingForAJobDescriptionId",h.B1)]})}),(0,x.jsx)("div",{children:"contacts"}),(0,x.jsx)("button",{className:U,children:"save"})]})})),Q=function(e){var s=(0,l.useState)(!1),r=(0,M.Z)(s,2),n=r[0],a=r[1],o=function(){a(!n)};return(0,x.jsxs)("div",{className:J.description,children:[(0,x.jsx)(q,{fullName:e.profile.fullName,userProfilePhoto:e.profile.photos.large,isOwner:e.isOwner,saveAvatar:e.saveAvatar}),(0,x.jsx)(B,{status:e.status,updateUserStatus:e.updateUserStatus,isOwner:e.isOwner}),n?(0,x.jsx)(E,{onSubmit:function(s){o(),e.saveChangedProfile((0,t.Z)((0,t.Z)({},s),{},{userId:e.ownerId}))},profile:e.profile,initialValues:e.profile}):(0,x.jsx)(L,{profile:e.profile,toggleEditMode:o,isOwner:e.isOwner})]})},H=function(e){return e.profile?(0,x.jsxs)("div",{children:[(0,x.jsx)("div",{className:C}),(0,x.jsx)(Q,{updateUserStatus:e.updateUserStatus,profile:e.profile,status:e.status,isOwner:e.isOwner,saveAvatar:e.saveAvatar,saveChangedProfile:e.saveChangedProfile,ownerId:e.ownerId})]}):(0,x.jsx)(D.Z,{})},R=function(e){return(0,x.jsxs)("div",{className:F.profilePage,children:[(0,x.jsx)(H,{profile:e.profile,status:e.status,updateUserStatus:e.updateUserStatus,isOwner:e.isOwner,saveAvatar:e.saveAvatar,saveChangedProfile:e.saveChangedProfile,ownerId:e.myProfileId}),(0,x.jsx)(S,{})]})},V=r(7561),Y=r(5628),$=r(1548),z=r(6351),G=function(e){(0,o.Z)(r,e);var s=(0,i.Z)(r);function r(){var e;(0,a.Z)(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=s.call.apply(s,[this].concat(o))).updateProfile=function(){e.props.getUserProfile(e.props.router.params.userId,e.props.myProfileId),e.props.getUserStatus(e.props.router.params.userId,e.props.myProfileId)},e.componentDidMount=function(){e.updateProfile()},e.componentDidUpdate=function(s,r){s.router.params.userId!==e.props.router.params.userId&&e.updateProfile()},e.render=function(){return(0,x.jsx)(R,(0,t.Z)((0,t.Z)({},e.props),{},{status:e.props.status,profile:e.props.profile,updateUserStatus:e.props.updateUserStatus,isOwner:!e.props.router.params.userId,saveAvatar:e.props.saveAvatar}))},e}return(0,n.Z)(r)}(l.Component),X=(0,A.qC)((0,u.$j)((function(e){return{profile:(0,z.Ai)(e),myProfileId:(0,z.OS)(e),status:(0,z.TL)(e)}}),{getUserProfile:I.et,getAuth:V.v0,getUserStatus:I.Tq,updateUserStatus:I.OL,saveAvatar:I.Mc,saveChangedProfile:I.M0}),Y.Z,$.Z)(G)}}]);
//# sourceMappingURL=746.ef1b05d2.chunk.js.map