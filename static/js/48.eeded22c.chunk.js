"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[48],{6048:function(e,s,r){r.r(s),r.d(s,{default:function(){return V}});var t=r(3144),n=r(5671),a=r(136),i=r(7277),o=r(2791),l=r(8687),c="MyPosts_myPosts__RjhRC",d="MyPosts_posts__QhSpD",u=r(6139),f=r(704),p=r(5210),v=r(302),m=r(184),h=(0,p.oQ)(10),x=(0,p.DT)(300),j=(0,f.Z)({form:"myPosts"})((function(e){var s=e.handleSubmit;return(0,m.jsxs)("form",{onSubmit:s,children:[(0,m.jsx)(u.Z,{component:v.y,name:"newPostText",validate:[h,x]}),(0,m.jsx)("div",{children:(0,m.jsx)("button",{children:"Add Post"})})]})})),b="Post_item__bggH6",g="Post_likeBlock__hqtqM",_="Post_text__8R0Y1",N=r(2882),P=function(e){var s=e.id,r=e.likes,t=e.liked,n=e.text,a=e.addLike;return(0,m.jsxs)("div",{className:b,children:[(0,m.jsx)("img",{src:N,alt:"start user avatar"}),(0,m.jsxs)("div",{className:_,children:[" ",n," "]}),(0,m.jsx)("div",{children:(0,m.jsxs)("span",{className:g,children:[(0,m.jsx)("button",{disabled:t,onClick:function(){a(s,r)},children:"like"}),(0,m.jsx)("br",{}),"(",r," peoples like this! )"]})}),(0,m.jsx)("hr",{})]})},k=function(e){var s=e.posts,r=e.addLike,t=e.addPostFromForm,n=s.map((function(e){return(0,m.jsx)(P,{text:e.text,likes:e.likes,liked:e.liked,id:e.postId,addLike:r},e.postId)}));return(0,m.jsxs)("div",{className:c,children:[(0,m.jsx)("h3",{children:"My Posts"}),(0,m.jsx)(j,{onSubmit:function(e){return t(e)}}),(0,m.jsx)("div",{className:d,children:n})]})},I=r(6407),w=r(7781),C=I.Nw.addLike,S=(0,w.qC)((0,l.$j)((function(e){return{posts:e.profilePage.posts}}),{addPostFromForm:I.b5,addLike:C}))(k),A={},y=r(7733),F=r(885),O={description:"ProfileDescription_description__c54HU",fullName:"ProfileDescription_fullName__CJFbG",avatar:"ProfileDescription_avatar__+sbzZ",status:"ProfileDescription_status__eX8Qd"},U=function(e){var s=e.linkName,r=e.link;return r?(0,m.jsxs)("div",{children:[(0,m.jsx)("span",{children:s}),":"," ",(0,m.jsx)("a",{href:r,target:"_blank",rel:"noreferrer",children:(0,m.jsx)("span",{children:r})})]}):null},M=function(e){var s=e.profile,r=e.toggleEditMode,t=e.isOwner,n=Object.keys(s.contacts).map((function(e){return s.contacts[e]?(0,m.jsx)(U,{linkName:e,link:s.contacts[e]},e):null})).filter((function(e){return null!==e}));return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:O.aboutMe,children:s.aboutMe}),(0,m.jsx)("h5",{children:"About Job"}),(0,m.jsxs)("div",{className:O.lookingForAJob,children:["Need work: ",s.lookingForAJob?"Yes":"No"]}),(0,m.jsx)("div",{className:O.workDescription,children:s.lookingForAJobDescription}),(0,m.jsxs)("div",{className:O.contacts,children:["contacts: ",n.length?n:"no contacts"]}),t&&(0,m.jsx)("button",{onClick:r,children:"edit"})]})},Z=function(e){var s=e.fullName,r=e.userProfilePhoto,t=e.isOwner,n=e.saveAvatar;return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)("div",{className:O.fullName,children:s}),(0,m.jsx)("img",{className:O.avatar,src:r||N,alt:"user avatar"}),t&&(0,m.jsx)("div",{children:(0,m.jsx)("input",{type:"file",onChange:function(e){var s;null!==(s=e.target.files)&&void 0!==s&&s.length&&n(e.target.files[0])}})})]})},D=function(e){var s=e.status,r=e.updateUserStatus,t=e.isOwner,n=(0,o.useState)(s),a=(0,F.Z)(n,2),i=a[0],l=a[1],c=(0,o.useState)(!1),d=(0,F.Z)(c,2),u=d[0],f=d[1];(0,o.useEffect)((function(){l(s)}),[s]);var p=function(){t&&(u?(f(!1),r(i)):f(!0))};return(0,m.jsxs)("div",{className:O.status,children:[!u&&(0,m.jsx)("div",{onClick:p,children:(0,m.jsx)("span",{children:s||"------"})}),u&&(0,m.jsx)("div",{children:(0,m.jsx)("input",{autoFocus:!0,onChange:function(e){l(e.currentTarget.value)},onBlur:p,value:i})})]})},T=r(7489),J={header:"ProfileInfo_header__tVpgS",LookingForAJob:"ProfileInfo_LookingForAJob__5CwD6",saveBtn:"ProfileInfo_saveBtn__HyeIj",formInp:"ProfileInfo_formInp__d5l3I",labelText:"ProfileInfo_labelText__FEMim"},L=(0,f.Z)({form:"aboutUserForm",enableReinitialize:!0})((function(e){var s=(0,p.DT)(20),r=(0,p.oQ)(3),t=Object.keys(e.profile.contacts).map((function(e){return(0,m.jsx)("div",{className:J.contact,children:(0,m.jsxs)("label",{children:[(0,m.jsx)("span",{className:J.labelText,children:e}),(0,T.N)("contacts.".concat(e),v.y,e,[])]})},e)})).filter((function(e){return null!==e}));return(0,m.jsxs)("form",{onSubmit:e.handleSubmit,children:[(0,m.jsx)("div",{className:J.formInp,children:(0,m.jsxs)("label",{children:[(0,m.jsx)("span",{className:J.labelText,children:"User name"}),(0,T.N)("fullName",v.y,void 0,[p.C1,s,r])]})}),(0,m.jsx)("div",{className:J.formInp,children:(0,m.jsxs)("label",{children:[(0,m.jsx)("span",{className:J.labelText,children:"About me"}),(0,T.N)("aboutMe",v.B,void 0,[p.C1])]})}),(0,m.jsx)("div",{className:J.formInp,children:(0,m.jsxs)("label",{className:J.LookingForAJob,children:[(0,m.jsx)("span",{className:J.labelText,children:"Looking for a job"}),(0,T.N)("lookingForAJob",v.y,void 0,[],"checkbox")]})}),(0,m.jsx)("div",{className:J.formInp,children:(0,m.jsxs)("label",{children:[(0,m.jsx)("span",{className:J.labelText,children:"Job description"}),(0,m.jsx)("br",{}),(0,T.N)("lookingForAJobDescription",v.B,void 0,[p.C1])]})}),(0,m.jsx)("div",{className:J.contacts,children:t}),(0,m.jsx)("button",{className:J.saveBtn,onClick:e.error?function(){}:e.toggleEditMode,children:"save"})]})})),B=function(e){var s=(0,o.useState)(!1),r=(0,F.Z)(s,2),t=r[0],n=r[1],a=function(){n(!t)};return(0,m.jsxs)("div",{className:O.description,children:[(0,m.jsx)(Z,{fullName:e.profile.fullName,userProfilePhoto:e.profile.photos.large,isOwner:e.isOwner,saveAvatar:e.saveAvatar}),(0,m.jsx)(D,{status:e.status,updateUserStatus:e.updateUserStatus,isOwner:e.isOwner}),t?(0,m.jsx)(L,{initialValues:e.profile,onSubmit:function(s){e.saveChangedProfile(s,e.ownerId,null).then((function(){return a()}))},profile:e.profile}):(0,m.jsx)(M,{profile:e.profile,toggleEditMode:a,isOwner:e.isOwner})]})},q=function(e){var s=e.profile,r=e.updateUserStatus,t=e.status,n=e.isOwner,a=e.saveAvatar,i=e.saveChangedProfile,o=e.ownerId;return s?(0,m.jsx)("div",{children:(0,m.jsx)(B,{updateUserStatus:r,profile:s,status:t,isOwner:n,saveAvatar:a,saveChangedProfile:i,ownerId:o})}):(0,m.jsx)(y.Z,{})},E=function(e){var s=e.profile,r=e.status,t=e.updateUserStatus,n=e.isOwner,a=e.saveAvatar,i=e.saveChangedProfile,o=e.myProfileId;return(0,m.jsxs)("div",{className:A.profilePage,children:[(0,m.jsx)(q,{profile:s,status:r,updateUserStatus:t,isOwner:n,saveAvatar:a,saveChangedProfile:i,ownerId:o}),(0,m.jsx)(S,{})]})},Q=r(8880),R=r(2932),H=r(8016),z=function(e){(0,a.Z)(r,e);var s=(0,i.Z)(r);function r(){var e;(0,n.Z)(this,r);for(var t=arguments.length,a=new Array(t),i=0;i<t;i++)a[i]=arguments[i];return(e=s.call.apply(s,[this].concat(a))).updateProfile=function(){e.props.getUserProfile(e.props.router.params.userId),e.props.getUserStatus(e.props.router.params.userId)},e.componentDidMount=function(){e.updateProfile()},e.componentDidUpdate=function(s){s.router.params.userId!==e.props.router.params.userId&&e.updateProfile()},e.render=function(){return(0,m.jsx)(E,{myProfileId:e.props.myProfileId,saveChangedProfile:e.props.saveChangedProfile,status:e.props.status,profile:e.props.profile,updateUserStatus:e.props.updateUserStatus,isOwner:!e.props.router.params.userId,saveAvatar:e.props.saveAvatar})},e}return(0,t.Z)(r)}(o.Component),V=(0,w.qC)((0,l.$j)((function(e){return{profile:(0,H.Ai)(e),myProfileId:(0,H.OS)(e),status:(0,H.TL)(e)}}),{getUserProfile:I.et,getUserStatus:I.Tq,updateUserStatus:I.OL,saveAvatar:I.Mc,saveChangedProfile:I.M0}),Q.Z,R.Z)(z)}}]);
//# sourceMappingURL=48.eeded22c.chunk.js.map